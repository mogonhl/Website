"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/screenshot";
exports.ids = ["pages/api/screenshot"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "puppeteer":
/*!****************************!*\
  !*** external "puppeteer" ***!
  \****************************/
/***/ ((module) => {

module.exports = import("puppeteer");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fscreenshot&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fscreenshot.js&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fscreenshot&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fscreenshot.js&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_screenshot_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/screenshot.js */ \"(api)/./pages/api/screenshot.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_screenshot_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_screenshot_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_screenshot_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_screenshot_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/screenshot\",\n        pathname: \"/api/screenshot\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_screenshot_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnNjcmVlbnNob3QmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRnNjcmVlbnNob3QuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDc0Q7QUFDdEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHFEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxxREFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9zY3JlZW5zaG90LmpzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zY3JlZW5zaG90XCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc2NyZWVuc2hvdFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fscreenshot&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fscreenshot.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/screenshot.js":
/*!*********************************!*\
  !*** ./pages/api/screenshot.js ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var puppeteer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! puppeteer */ \"puppeteer\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([puppeteer__WEBPACK_IMPORTED_MODULE_0__]);\npuppeteer__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Sticker configuration\nconst STICKERS = [\n    '/assets/Sticker/1.png',\n    '/assets/Sticker/2.png',\n    '/assets/Sticker/2 2.png',\n    '/assets/Sticker/3.png',\n    '/assets/Sticker/3 2.png',\n    '/assets/Sticker/4.png',\n    '/assets/Sticker/4 2.png',\n    '/assets/Sticker/5.png',\n    '/assets/Sticker/6.png',\n    '/assets/Sticker/7.png',\n    '/assets/Sticker/9.png',\n    '/assets/Sticker/10.png',\n    '/assets/Sticker/13.png',\n    '/assets/Sticker/14.png',\n    '/assets/Sticker/15.png',\n    '/assets/Sticker/16.png',\n    '/assets/Sticker/17.png'\n];\nconst STICKER_CONFIG = {\n    size: {\n        min: 94,\n        max: 125\n    },\n    minRotation: -45,\n    maxRotation: 45,\n    total: 24\n};\n// Browser pool configuration\nlet browserWSEndpoint = null;\nconst MAX_RETRIES = 3;\nconst RETRY_DELAY = 1000;\nconst wait = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));\nconst initBrowser = async ()=>{\n    try {\n        const browser = await puppeteer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].launch({\n            headless: 'new',\n            args: [\n                '--no-sandbox',\n                '--disable-setuid-sandbox',\n                '--disable-dev-shm-usage',\n                '--disable-accelerated-2d-canvas',\n                '--disable-gpu',\n                '--js-flags=--max-old-space-size=512',\n                '--disable-web-security',\n                '--no-zygote',\n                '--single-process',\n                '--disable-features=site-per-process',\n                '--disable-features=TranslateUI',\n                '--disable-extensions',\n                '--disable-component-extensions-with-background-pages',\n                '--disable-background-networking',\n                '--disable-background-timer-throttling',\n                '--disable-backgrounding-occluded-windows',\n                '--disable-breakpad',\n                '--disable-client-side-phishing-detection',\n                '--disable-default-apps',\n                '--disable-sync',\n                '--metrics-recording-only',\n                '--no-default-browser-check',\n                '--no-experiments',\n                '--mute-audio'\n            ],\n            ignoreHTTPSErrors: true,\n            timeout: 30000\n        });\n        // Check if browser is connected\n        if (!browser.isConnected()) {\n            throw new Error('Browser disconnected after launch');\n        }\n        return browser;\n    } catch (error) {\n        console.error('Failed to initialize browser:', error);\n        throw error;\n    }\n};\nconst getBrowser = async ()=>{\n    if (!browserWSEndpoint) {\n        const browser = await initBrowser();\n        return browser;\n    }\n    try {\n        return await puppeteer__WEBPACK_IMPORTED_MODULE_0__[\"default\"].connect({\n            browserWSEndpoint,\n            timeout: 15000\n        });\n    } catch (error) {\n        console.error('Failed to connect to browser, reinitializing:', error);\n        const browser = await initBrowser();\n        return browser;\n    }\n};\nconst withBrowser = async (fn)=>{\n    let browser;\n    try {\n        browser = await initBrowser();\n        if (!browser.isConnected()) {\n            throw new Error('Browser not connected');\n        }\n        return await fn(browser);\n    } catch (error) {\n        console.error('Browser operation failed:', error);\n        throw error;\n    } finally{\n        if (browser) {\n            try {\n                if (browser.isConnected()) {\n                    await browser.close();\n                }\n            } catch (error) {\n                console.error('Failed to close browser:', error);\n            }\n        }\n    }\n};\nconst withPage = async (browser, fn)=>{\n    let page;\n    try {\n        if (!browser.isConnected()) {\n            throw new Error('Browser not connected when creating page');\n        }\n        page = await browser.newPage();\n        if (!page) {\n            throw new Error('Failed to create new page');\n        }\n        // Configure page settings\n        await Promise.all([\n            page.setDefaultNavigationTimeout(30000),\n            page.setDefaultTimeout(30000),\n            page.setViewport({\n                width: 800,\n                height: 600,\n                deviceScaleFactor: 1\n            }),\n            page.setRequestInterception(true)\n        ]);\n        // Only allow necessary resources\n        page.on('request', (request)=>{\n            const resourceType = request.resourceType();\n            if (resourceType === 'image' || resourceType === 'stylesheet' || resourceType === 'document') {\n                request.continue();\n            } else {\n                request.abort();\n            }\n        });\n        return await fn(page);\n    } catch (error) {\n        console.error('Page operation failed:', error);\n        throw error;\n    } finally{\n        if (page) {\n            try {\n                if (!page.isClosed()) {\n                    await page.close();\n                }\n            } catch (error) {\n                console.error('Failed to close page:', error);\n            }\n        }\n    }\n};\n// Helper functions for sticker generation\nconst getRandomSticker = ()=>STICKERS[Math.floor(Math.random() * STICKERS.length)];\nconst getRandomSize = ()=>STICKER_CONFIG.size.min + Math.floor(Math.random() * (STICKER_CONFIG.size.max - STICKER_CONFIG.size.min));\nconst getRandomRotation = ()=>STICKER_CONFIG.minRotation + Math.floor(Math.random() * (STICKER_CONFIG.maxRotation - STICKER_CONFIG.minRotation));\n// Generate sticker positions around the edges\nconst generateStickers = ()=>{\n    const stickers = [];\n    const stickersPerSide = Math.floor(STICKER_CONFIG.total / 4);\n    for(let i = 0; i < STICKER_CONFIG.total; i++){\n        const sideIndex = Math.floor(i / stickersPerSide);\n        const positionInSide = i % stickersPerSide;\n        let x, y;\n        switch(sideIndex){\n            case 0:\n                x = 5 + 90 * positionInSide / (stickersPerSide - 1);\n                y = 2 + positionInSide % 2 * 8;\n                break;\n            case 1:\n                x = 98 - positionInSide % 2 * 8;\n                y = 15 + 70 * positionInSide / (stickersPerSide - 1);\n                break;\n            case 2:\n                x = 95 - 90 * positionInSide / (stickersPerSide - 1);\n                y = 98 - positionInSide % 2 * 8;\n                break;\n            case 3:\n                x = 2 + positionInSide % 2 * 8;\n                y = 85 - 70 * positionInSide / (stickersPerSide - 1);\n                break;\n            default:\n                const corner = i % 4;\n                x = corner % 2 ? 98 : 2;\n                y = corner < 2 ? 2 : 98;\n        }\n        // Add slight randomness\n        x += (Math.random() - 0.5) * 1;\n        y += (Math.random() - 0.5) * 1;\n        stickers.push({\n            src: getRandomSticker(),\n            size: getRandomSize(),\n            rotation: getRandomRotation(),\n            x,\n            y\n        });\n    }\n    return stickers;\n};\nasync function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            error: 'Method not allowed. Please use POST.'\n        });\n    }\n    const { html, styles, images } = req.body;\n    if (!html) {\n        return res.status(400).json({\n            error: 'No HTML content provided'\n        });\n    }\n    try {\n        const baseUrl = `${req.headers['x-forwarded-proto'] || 'http'}://${req.headers.host}`;\n        const stickers = generateStickers();\n        const stickersHtml = stickers.map((sticker)=>`\n            <img \n                src=\"${new URL(sticker.src, baseUrl).href}\" \n                class=\"sticker\" \n                style=\"\n                    width: ${sticker.size}px;\n                    height: ${sticker.size}px;\n                    left: ${sticker.x}%;\n                    top: ${sticker.y}%;\n                    --rotation: ${sticker.rotation}deg;\n                \"\n            />\n        `).join('');\n        const screenshot = await withBrowser(async (browser)=>{\n            // Clean HTML first\n            const cleanHtml = await withPage(browser, async (page)=>{\n                await page.setContent(html, {\n                    waitUntil: [\n                        'domcontentloaded',\n                        'networkidle0'\n                    ],\n                    timeout: 30000\n                });\n                return page.evaluate(()=>{\n                    const stickerContainers = document.querySelectorAll('.absolute.inset-0.rounded-lg.overflow-hidden');\n                    stickerContainers.forEach((container)=>container.remove());\n                    const stickers = document.querySelectorAll('img.sticker');\n                    stickers.forEach((sticker)=>sticker.remove());\n                    const tweetContent = document.querySelector('.relative.mx-auto.w-full.max-w-xl.z-10');\n                    return tweetContent ? tweetContent.outerHTML : document.body.innerHTML;\n                });\n            });\n            // Take screenshot\n            return await withPage(browser, async (page)=>{\n                const content = `\n                    <!DOCTYPE html>\n                    <html>\n                    <head>\n                        <style>\n                            ${styles || ''}\n                            body {\n                                margin: 0;\n                                padding: 20px;\n                                background: #0a0a0a;\n                                color: #ffffff;\n                                font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;\n                            }\n                            #tweet-list-container {\n                                background: #0a0a0a;\n                                border-radius: 8px;\n                                padding: 20px;\n                                max-width: 800px;\n                                margin: 0 auto;\n                                position: relative;\n                                min-height: 300px;\n                            }\n                            .green-background {\n                                position: absolute;\n                                top: 0;\n                                left: 0;\n                                width: 100%;\n                                height: 100%;\n                                background-image: url('${new URL('/assets/green.webp', baseUrl).href}');\n                                background-size: cover;\n                                background-position: center;\n                                opacity: 0.1;\n                                border-radius: 8px;\n                                pointer-events: none;\n                                z-index: 1;\n                            }\n                            .sticker {\n                                position: absolute;\n                                transition: all 0.5s ease;\n                                animation: float 3s ease-in-out infinite;\n                                opacity: 0.95;\n                                z-index: 3;\n                                transform: translate(-50%, -50%) rotate(var(--rotation));\n                                pointer-events: none;\n                            }\n                            .tweet-content {\n                                background: #1a2a30;\n                                border-radius: 8px;\n                                padding: 15px;\n                                position: relative;\n                                z-index: 2;\n                            }\n                        </style>\n                    </head>\n                    <body>\n                        <div id=\"tweet-list-container\">\n                            <div class=\"green-background\"></div>\n                            <div class=\"tweet-content\">\n                                ${cleanHtml}\n                            </div>\n                            ${stickersHtml}\n                        </div>\n                    </body>\n                    </html>\n                `;\n                await page.setContent(content, {\n                    waitUntil: [\n                        'domcontentloaded',\n                        'networkidle0'\n                    ],\n                    timeout: 30000\n                });\n                // Wait for images to load\n                await page.evaluate(()=>{\n                    return Promise.all(Array.from(document.images).filter((img)=>!img.complete).map((img)=>new Promise((resolve)=>{\n                            img.onload = img.onerror = resolve;\n                        })));\n                });\n                const element = await page.$('#tweet-list-container');\n                if (!element) throw new Error('Tweet container not found');\n                const boundingBox = await element.boundingBox();\n                if (!boundingBox) throw new Error('Could not get tweet container dimensions');\n                return element.screenshot({\n                    type: 'png',\n                    encoding: 'binary',\n                    clip: {\n                        x: boundingBox.x,\n                        y: boundingBox.y,\n                        width: boundingBox.width,\n                        height: boundingBox.height\n                    },\n                    omitBackground: true\n                });\n            });\n        });\n        res.setHeader('Content-Type', 'image/png');\n        res.setHeader('Content-Length', screenshot.length);\n        res.end(screenshot, 'binary');\n    } catch (error) {\n        console.error('Screenshot error:', error);\n        res.status(500).json({\n            error: error.message,\n            stack:  true ? error.stack : 0\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxDQUFDLENBQUM7Z0JBQzdCLElBQUksQ0FBQ0QsU0FBUyxNQUFNLElBQUl0RixNQUFNO2dCQUU5QixNQUFNd0YsY0FBYyxNQUFNRixRQUFRRSxXQUFXO2dCQUM3QyxJQUFJLENBQUNBLGFBQWEsTUFBTSxJQUFJeEYsTUFBTTtnQkFFbEMsT0FBT3NGLFFBQVF2QixVQUFVLENBQUM7b0JBQ3RCMEIsTUFBTTtvQkFDTkMsVUFBVTtvQkFDVkMsTUFBTTt3QkFDRnJELEdBQUdrRCxZQUFZbEQsQ0FBQzt3QkFDaEJDLEdBQUdpRCxZQUFZakQsQ0FBQzt3QkFDaEJ4QixPQUFPeUUsWUFBWXpFLEtBQUs7d0JBQ3hCQyxRQUFRd0UsWUFBWXhFLE1BQU07b0JBQzlCO29CQUNBNEUsZ0JBQWdCO2dCQUNwQjtZQUNKO1FBQ0o7UUFFQTlDLElBQUkrQyxTQUFTLENBQUMsZ0JBQWdCO1FBQzlCL0MsSUFBSStDLFNBQVMsQ0FBQyxrQkFBa0I5QixXQUFXbEMsTUFBTTtRQUNqRGlCLElBQUlnRCxHQUFHLENBQUMvQixZQUFZO0lBRXhCLEVBQUUsT0FBTzlELE9BQU87UUFDWkMsUUFBUUQsS0FBSyxDQUFDLHFCQUFxQkE7UUFDbkM2QyxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQ2pCaEQsT0FBT0EsTUFBTThGLE9BQU87WUFDcEJDLE9BQU9DLEtBQXNDLEdBQUdoRyxNQUFNK0YsS0FBSyxHQUFHRSxDQUFTQTtRQUMzRTtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIi9Vc2Vycy9jYXJsc2NobWlkdC9EZXNrdG9wL0NyeXB0by9Nb2cvV2Vic2l0ZS9wYWdlcy9hcGkvc2NyZWVuc2hvdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcHVwcGV0ZWVyIGZyb20gJ3B1cHBldGVlcic7XG5cbi8vIFN0aWNrZXIgY29uZmlndXJhdGlvblxuY29uc3QgU1RJQ0tFUlMgPSBbXG4gICAgJy9hc3NldHMvU3RpY2tlci8xLnBuZycsXG4gICAgJy9hc3NldHMvU3RpY2tlci8yLnBuZycsXG4gICAgJy9hc3NldHMvU3RpY2tlci8yIDIucG5nJyxcbiAgICAnL2Fzc2V0cy9TdGlja2VyLzMucG5nJyxcbiAgICAnL2Fzc2V0cy9TdGlja2VyLzMgMi5wbmcnLFxuICAgICcvYXNzZXRzL1N0aWNrZXIvNC5wbmcnLFxuICAgICcvYXNzZXRzL1N0aWNrZXIvNCAyLnBuZycsXG4gICAgJy9hc3NldHMvU3RpY2tlci81LnBuZycsXG4gICAgJy9hc3NldHMvU3RpY2tlci82LnBuZycsXG4gICAgJy9hc3NldHMvU3RpY2tlci83LnBuZycsXG4gICAgJy9hc3NldHMvU3RpY2tlci85LnBuZycsXG4gICAgJy9hc3NldHMvU3RpY2tlci8xMC5wbmcnLFxuICAgICcvYXNzZXRzL1N0aWNrZXIvMTMucG5nJyxcbiAgICAnL2Fzc2V0cy9TdGlja2VyLzE0LnBuZycsXG4gICAgJy9hc3NldHMvU3RpY2tlci8xNS5wbmcnLFxuICAgICcvYXNzZXRzL1N0aWNrZXIvMTYucG5nJyxcbiAgICAnL2Fzc2V0cy9TdGlja2VyLzE3LnBuZydcbl07XG5cbmNvbnN0IFNUSUNLRVJfQ09ORklHID0ge1xuICAgIHNpemU6IHtcbiAgICAgICAgbWluOiA5NCxcbiAgICAgICAgbWF4OiAxMjVcbiAgICB9LFxuICAgIG1pblJvdGF0aW9uOiAtNDUsXG4gICAgbWF4Um90YXRpb246IDQ1LFxuICAgIHRvdGFsOiAyNFxufTtcblxuLy8gQnJvd3NlciBwb29sIGNvbmZpZ3VyYXRpb25cbmxldCBicm93c2VyV1NFbmRwb2ludCA9IG51bGw7XG5jb25zdCBNQVhfUkVUUklFUyA9IDM7XG5jb25zdCBSRVRSWV9ERUxBWSA9IDEwMDA7XG5cbmNvbnN0IHdhaXQgPSAobXMpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuXG5jb25zdCBpbml0QnJvd3NlciA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBicm93c2VyID0gYXdhaXQgcHVwcGV0ZWVyLmxhdW5jaCh7XG4gICAgICAgICAgICBoZWFkbGVzczogJ25ldycsXG4gICAgICAgICAgICBhcmdzOiBbXG4gICAgICAgICAgICAgICAgJy0tbm8tc2FuZGJveCcsXG4gICAgICAgICAgICAgICAgJy0tZGlzYWJsZS1zZXR1aWQtc2FuZGJveCcsXG4gICAgICAgICAgICAgICAgJy0tZGlzYWJsZS1kZXYtc2htLXVzYWdlJyxcbiAgICAgICAgICAgICAgICAnLS1kaXNhYmxlLWFjY2VsZXJhdGVkLTJkLWNhbnZhcycsXG4gICAgICAgICAgICAgICAgJy0tZGlzYWJsZS1ncHUnLFxuICAgICAgICAgICAgICAgICctLWpzLWZsYWdzPS0tbWF4LW9sZC1zcGFjZS1zaXplPTUxMicsXG4gICAgICAgICAgICAgICAgJy0tZGlzYWJsZS13ZWItc2VjdXJpdHknLFxuICAgICAgICAgICAgICAgICctLW5vLXp5Z290ZScsXG4gICAgICAgICAgICAgICAgJy0tc2luZ2xlLXByb2Nlc3MnLFxuICAgICAgICAgICAgICAgICctLWRpc2FibGUtZmVhdHVyZXM9c2l0ZS1wZXItcHJvY2VzcycsXG4gICAgICAgICAgICAgICAgJy0tZGlzYWJsZS1mZWF0dXJlcz1UcmFuc2xhdGVVSScsXG4gICAgICAgICAgICAgICAgJy0tZGlzYWJsZS1leHRlbnNpb25zJyxcbiAgICAgICAgICAgICAgICAnLS1kaXNhYmxlLWNvbXBvbmVudC1leHRlbnNpb25zLXdpdGgtYmFja2dyb3VuZC1wYWdlcycsXG4gICAgICAgICAgICAgICAgJy0tZGlzYWJsZS1iYWNrZ3JvdW5kLW5ldHdvcmtpbmcnLFxuICAgICAgICAgICAgICAgICctLWRpc2FibGUtYmFja2dyb3VuZC10aW1lci10aHJvdHRsaW5nJyxcbiAgICAgICAgICAgICAgICAnLS1kaXNhYmxlLWJhY2tncm91bmRpbmctb2NjbHVkZWQtd2luZG93cycsXG4gICAgICAgICAgICAgICAgJy0tZGlzYWJsZS1icmVha3BhZCcsXG4gICAgICAgICAgICAgICAgJy0tZGlzYWJsZS1jbGllbnQtc2lkZS1waGlzaGluZy1kZXRlY3Rpb24nLFxuICAgICAgICAgICAgICAgICctLWRpc2FibGUtZGVmYXVsdC1hcHBzJyxcbiAgICAgICAgICAgICAgICAnLS1kaXNhYmxlLXN5bmMnLFxuICAgICAgICAgICAgICAgICctLW1ldHJpY3MtcmVjb3JkaW5nLW9ubHknLFxuICAgICAgICAgICAgICAgICctLW5vLWRlZmF1bHQtYnJvd3Nlci1jaGVjaycsXG4gICAgICAgICAgICAgICAgJy0tbm8tZXhwZXJpbWVudHMnLFxuICAgICAgICAgICAgICAgICctLW11dGUtYXVkaW8nXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgaWdub3JlSFRUUFNFcnJvcnM6IHRydWUsXG4gICAgICAgICAgICB0aW1lb3V0OiAzMDAwMFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIGJyb3dzZXIgaXMgY29ubmVjdGVkXG4gICAgICAgIGlmICghYnJvd3Nlci5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jyb3dzZXIgZGlzY29ubmVjdGVkIGFmdGVyIGxhdW5jaCcpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYnJvd3NlcjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBicm93c2VyOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufTtcblxuY29uc3QgZ2V0QnJvd3NlciA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWJyb3dzZXJXU0VuZHBvaW50KSB7XG4gICAgICAgIGNvbnN0IGJyb3dzZXIgPSBhd2FpdCBpbml0QnJvd3NlcigpO1xuICAgICAgICByZXR1cm4gYnJvd3NlcjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHB1cHBldGVlci5jb25uZWN0KHsgYnJvd3NlcldTRW5kcG9pbnQsIHRpbWVvdXQ6IDE1MDAwIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0IHRvIGJyb3dzZXIsIHJlaW5pdGlhbGl6aW5nOicsIGVycm9yKTtcbiAgICAgICAgY29uc3QgYnJvd3NlciA9IGF3YWl0IGluaXRCcm93c2VyKCk7XG4gICAgICAgIHJldHVybiBicm93c2VyO1xuICAgIH1cbn07XG5cbmNvbnN0IHdpdGhCcm93c2VyID0gYXN5bmMgKGZuKSA9PiB7XG4gICAgbGV0IGJyb3dzZXI7XG4gICAgdHJ5IHtcbiAgICAgICAgYnJvd3NlciA9IGF3YWl0IGluaXRCcm93c2VyKCk7XG4gICAgICAgIGlmICghYnJvd3Nlci5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jyb3dzZXIgbm90IGNvbm5lY3RlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhd2FpdCBmbihicm93c2VyKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdCcm93c2VyIG9wZXJhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoYnJvd3Nlcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5pc0Nvbm5lY3RlZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGJyb3dzZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjbG9zZSBicm93c2VyOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmNvbnN0IHdpdGhQYWdlID0gYXN5bmMgKGJyb3dzZXIsIGZuKSA9PiB7XG4gICAgbGV0IHBhZ2U7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKCFicm93c2VyLmlzQ29ubmVjdGVkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQnJvd3NlciBub3QgY29ubmVjdGVkIHdoZW4gY3JlYXRpbmcgcGFnZScpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBwYWdlID0gYXdhaXQgYnJvd3Nlci5uZXdQYWdlKCk7XG4gICAgICAgIGlmICghcGFnZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIG5ldyBwYWdlJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb25maWd1cmUgcGFnZSBzZXR0aW5nc1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBwYWdlLnNldERlZmF1bHROYXZpZ2F0aW9uVGltZW91dCgzMDAwMCksXG4gICAgICAgICAgICBwYWdlLnNldERlZmF1bHRUaW1lb3V0KDMwMDAwKSxcbiAgICAgICAgICAgIHBhZ2Uuc2V0Vmlld3BvcnQoeyB3aWR0aDogODAwLCBoZWlnaHQ6IDYwMCwgZGV2aWNlU2NhbGVGYWN0b3I6IDEgfSksXG4gICAgICAgICAgICBwYWdlLnNldFJlcXVlc3RJbnRlcmNlcHRpb24odHJ1ZSlcbiAgICAgICAgXSk7XG5cbiAgICAgICAgLy8gT25seSBhbGxvdyBuZWNlc3NhcnkgcmVzb3VyY2VzXG4gICAgICAgIHBhZ2Uub24oJ3JlcXVlc3QnLCAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzb3VyY2VUeXBlID0gcmVxdWVzdC5yZXNvdXJjZVR5cGUoKTtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZVR5cGUgPT09ICdpbWFnZScgfHwgcmVzb3VyY2VUeXBlID09PSAnc3R5bGVzaGVldCcgfHwgcmVzb3VyY2VUeXBlID09PSAnZG9jdW1lbnQnKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdC5jb250aW51ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBhd2FpdCBmbihwYWdlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQYWdlIG9wZXJhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAocGFnZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoIXBhZ2UuaXNDbG9zZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwYWdlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2xvc2UgcGFnZTonLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb25zIGZvciBzdGlja2VyIGdlbmVyYXRpb25cbmNvbnN0IGdldFJhbmRvbVN0aWNrZXIgPSAoKSA9PiBTVElDS0VSU1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBTVElDS0VSUy5sZW5ndGgpXTtcbmNvbnN0IGdldFJhbmRvbVNpemUgPSAoKSA9PiBTVElDS0VSX0NPTkZJRy5zaXplLm1pbiArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChTVElDS0VSX0NPTkZJRy5zaXplLm1heCAtIFNUSUNLRVJfQ09ORklHLnNpemUubWluKSk7XG5jb25zdCBnZXRSYW5kb21Sb3RhdGlvbiA9ICgpID0+IFNUSUNLRVJfQ09ORklHLm1pblJvdGF0aW9uICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKFNUSUNLRVJfQ09ORklHLm1heFJvdGF0aW9uIC0gU1RJQ0tFUl9DT05GSUcubWluUm90YXRpb24pKTtcblxuLy8gR2VuZXJhdGUgc3RpY2tlciBwb3NpdGlvbnMgYXJvdW5kIHRoZSBlZGdlc1xuY29uc3QgZ2VuZXJhdGVTdGlja2VycyA9ICgpID0+IHtcbiAgICBjb25zdCBzdGlja2VycyA9IFtdO1xuICAgIGNvbnN0IHN0aWNrZXJzUGVyU2lkZSA9IE1hdGguZmxvb3IoU1RJQ0tFUl9DT05GSUcudG90YWwgLyA0KTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgU1RJQ0tFUl9DT05GSUcudG90YWw7IGkrKykge1xuICAgICAgICBjb25zdCBzaWRlSW5kZXggPSBNYXRoLmZsb29yKGkgLyBzdGlja2Vyc1BlclNpZGUpO1xuICAgICAgICBjb25zdCBwb3NpdGlvbkluU2lkZSA9IGkgJSBzdGlja2Vyc1BlclNpZGU7XG4gICAgICAgIFxuICAgICAgICBsZXQgeCwgeTtcbiAgICAgICAgc3dpdGNoKHNpZGVJbmRleCkge1xuICAgICAgICAgICAgY2FzZSAwOiAvLyBUb3BcbiAgICAgICAgICAgICAgICB4ID0gNSArICg5MCAqIHBvc2l0aW9uSW5TaWRlIC8gKHN0aWNrZXJzUGVyU2lkZSAtIDEpKTtcbiAgICAgICAgICAgICAgICB5ID0gMiArIChwb3NpdGlvbkluU2lkZSAlIDIpICogODtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTogLy8gUmlnaHRcbiAgICAgICAgICAgICAgICB4ID0gOTggLSAocG9zaXRpb25JblNpZGUgJSAyKSAqIDg7XG4gICAgICAgICAgICAgICAgeSA9IDE1ICsgKDcwICogcG9zaXRpb25JblNpZGUgLyAoc3RpY2tlcnNQZXJTaWRlIC0gMSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOiAvLyBCb3R0b21cbiAgICAgICAgICAgICAgICB4ID0gOTUgLSAoOTAgKiBwb3NpdGlvbkluU2lkZSAvIChzdGlja2Vyc1BlclNpZGUgLSAxKSk7XG4gICAgICAgICAgICAgICAgeSA9IDk4IC0gKHBvc2l0aW9uSW5TaWRlICUgMikgKiA4O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOiAvLyBMZWZ0XG4gICAgICAgICAgICAgICAgeCA9IDIgKyAocG9zaXRpb25JblNpZGUgJSAyKSAqIDg7XG4gICAgICAgICAgICAgICAgeSA9IDg1IC0gKDcwICogcG9zaXRpb25JblNpZGUgLyAoc3RpY2tlcnNQZXJTaWRlIC0gMSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBjb25zdCBjb3JuZXIgPSBpICUgNDtcbiAgICAgICAgICAgICAgICB4ID0gY29ybmVyICUgMiA/IDk4IDogMjtcbiAgICAgICAgICAgICAgICB5ID0gY29ybmVyIDwgMiA/IDIgOiA5ODtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBzbGlnaHQgcmFuZG9tbmVzc1xuICAgICAgICB4ICs9IChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDE7XG4gICAgICAgIHkgKz0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMTtcblxuICAgICAgICBzdGlja2Vycy5wdXNoKHtcbiAgICAgICAgICAgIHNyYzogZ2V0UmFuZG9tU3RpY2tlcigpLFxuICAgICAgICAgICAgc2l6ZTogZ2V0UmFuZG9tU2l6ZSgpLFxuICAgICAgICAgICAgcm90YXRpb246IGdldFJhbmRvbVJvdGF0aW9uKCksXG4gICAgICAgICAgICB4LFxuICAgICAgICAgICAgeVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHN0aWNrZXJzO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICAgIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQuIFBsZWFzZSB1c2UgUE9TVC4nIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaHRtbCwgc3R5bGVzLCBpbWFnZXMgfSA9IHJlcS5ib2R5O1xuICAgIGlmICghaHRtbCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ05vIEhUTUwgY29udGVudCBwcm92aWRlZCcgfSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgYmFzZVVybCA9IGAke3JlcS5oZWFkZXJzWyd4LWZvcndhcmRlZC1wcm90byddIHx8ICdodHRwJ306Ly8ke3JlcS5oZWFkZXJzLmhvc3R9YDtcbiAgICAgICAgY29uc3Qgc3RpY2tlcnMgPSBnZW5lcmF0ZVN0aWNrZXJzKCk7XG4gICAgICAgIGNvbnN0IHN0aWNrZXJzSHRtbCA9IHN0aWNrZXJzLm1hcChzdGlja2VyID0+IGBcbiAgICAgICAgICAgIDxpbWcgXG4gICAgICAgICAgICAgICAgc3JjPVwiJHtuZXcgVVJMKHN0aWNrZXIuc3JjLCBiYXNlVXJsKS5ocmVmfVwiIFxuICAgICAgICAgICAgICAgIGNsYXNzPVwic3RpY2tlclwiIFxuICAgICAgICAgICAgICAgIHN0eWxlPVwiXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAke3N0aWNrZXIuc2l6ZX1weDtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAke3N0aWNrZXIuc2l6ZX1weDtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogJHtzdGlja2VyLnh9JTtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAke3N0aWNrZXIueX0lO1xuICAgICAgICAgICAgICAgICAgICAtLXJvdGF0aW9uOiAke3N0aWNrZXIucm90YXRpb259ZGVnO1xuICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICBgKS5qb2luKCcnKTtcblxuICAgICAgICBjb25zdCBzY3JlZW5zaG90ID0gYXdhaXQgd2l0aEJyb3dzZXIoYXN5bmMgKGJyb3dzZXIpID0+IHtcbiAgICAgICAgICAgIC8vIENsZWFuIEhUTUwgZmlyc3RcbiAgICAgICAgICAgIGNvbnN0IGNsZWFuSHRtbCA9IGF3YWl0IHdpdGhQYWdlKGJyb3dzZXIsIGFzeW5jIChwYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcGFnZS5zZXRDb250ZW50KGh0bWwsIHsgXG4gICAgICAgICAgICAgICAgICAgIHdhaXRVbnRpbDogWydkb21jb250ZW50bG9hZGVkJywgJ25ldHdvcmtpZGxlMCddLFxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAzMDAwMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlLmV2YWx1YXRlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RpY2tlckNvbnRhaW5lcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWJzb2x1dGUuaW5zZXQtMC5yb3VuZGVkLWxnLm92ZXJmbG93LWhpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICBzdGlja2VyQ29udGFpbmVycy5mb3JFYWNoKGNvbnRhaW5lciA9PiBjb250YWluZXIucmVtb3ZlKCkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGlja2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZy5zdGlja2VyJyk7XG4gICAgICAgICAgICAgICAgICAgIHN0aWNrZXJzLmZvckVhY2goc3RpY2tlciA9PiBzdGlja2VyLnJlbW92ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHdlZXRDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlbGF0aXZlLm14LWF1dG8udy1mdWxsLm1heC13LXhsLnotMTAnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR3ZWV0Q29udGVudCA/IHR3ZWV0Q29udGVudC5vdXRlckhUTUwgOiBkb2N1bWVudC5ib2R5LmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBUYWtlIHNjcmVlbnNob3RcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB3aXRoUGFnZShicm93c2VyLCBhc3luYyAocGFnZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgXG4gICAgICAgICAgICAgICAgICAgIDwhRE9DVFlQRSBodG1sPlxuICAgICAgICAgICAgICAgICAgICA8aHRtbD5cbiAgICAgICAgICAgICAgICAgICAgPGhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzdHlsZXMgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMjBweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzBhMGEwYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFwiU2Vnb2UgVUlcIiwgUm9ib3RvLCBcIkhlbHZldGljYSBOZXVlXCIsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjdHdlZXQtbGlzdC1jb250YWluZXIge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMGEwYTBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogODAwcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDMwMHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ3JlZW4tYmFja2dyb3VuZCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7bmV3IFVSTCgnL2Fzc2V0cy9ncmVlbi53ZWJwJywgYmFzZVVybCkuaHJlZn0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdGlja2VyIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC41cyBlYXNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246IGZsb2F0IDNzIGVhc2UtaW4tb3V0IGluZmluaXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjk1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6LWluZGV4OiAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSByb3RhdGUodmFyKC0tcm90YXRpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50d2VldC1jb250ZW50IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogIzFhMmEzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxNXB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdHlsZT5cbiAgICAgICAgICAgICAgICAgICAgPC9oZWFkPlxuICAgICAgICAgICAgICAgICAgICA8Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ0d2VldC1saXN0LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJncmVlbi1iYWNrZ3JvdW5kXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInR3ZWV0LWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtjbGVhbkh0bWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzdGlja2Vyc0h0bWx9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9ib2R5PlxuICAgICAgICAgICAgICAgICAgICA8L2h0bWw+XG4gICAgICAgICAgICAgICAgYDtcblxuICAgICAgICAgICAgICAgIGF3YWl0IHBhZ2Uuc2V0Q29udGVudChjb250ZW50LCB7IFxuICAgICAgICAgICAgICAgICAgICB3YWl0VW50aWw6IFsnZG9tY29udGVudGxvYWRlZCcsICduZXR3b3JraWRsZTAnXSxcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMDBcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIGltYWdlcyB0byBsb2FkXG4gICAgICAgICAgICAgICAgYXdhaXQgcGFnZS5ldmFsdWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgICAgICAgICAgICAgICAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQuaW1hZ2VzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoaW1nID0+ICFpbWcuY29tcGxldGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChpbWcgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGltZy5vbmVycm9yID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBhd2FpdCBwYWdlLiQoJyN0d2VldC1saXN0LWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgICAgIGlmICghZWxlbWVudCkgdGhyb3cgbmV3IEVycm9yKCdUd2VldCBjb250YWluZXIgbm90IGZvdW5kJyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBib3VuZGluZ0JveCA9IGF3YWl0IGVsZW1lbnQuYm91bmRpbmdCb3goKTtcbiAgICAgICAgICAgICAgICBpZiAoIWJvdW5kaW5nQm94KSB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBnZXQgdHdlZXQgY29udGFpbmVyIGRpbWVuc2lvbnMnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LnNjcmVlbnNob3Qoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAncG5nJyxcbiAgICAgICAgICAgICAgICAgICAgZW5jb2Rpbmc6ICdiaW5hcnknLFxuICAgICAgICAgICAgICAgICAgICBjbGlwOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBib3VuZGluZ0JveC54LFxuICAgICAgICAgICAgICAgICAgICAgICAgeTogYm91bmRpbmdCb3gueSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBib3VuZGluZ0JveC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogYm91bmRpbmdCb3guaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9taXRCYWNrZ3JvdW5kOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVzLnNldEhlYWRlcignQ29udGVudC1UeXBlJywgJ2ltYWdlL3BuZycpO1xuICAgICAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LUxlbmd0aCcsIHNjcmVlbnNob3QubGVuZ3RoKTtcbiAgICAgICAgcmVzLmVuZChzY3JlZW5zaG90LCAnYmluYXJ5Jyk7XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTY3JlZW5zaG90IGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcbiAgICAgICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgc3RhY2s6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgfVxufSAiXSwibmFtZXMiOlsicHVwcGV0ZWVyIiwiU1RJQ0tFUlMiLCJTVElDS0VSX0NPTkZJRyIsInNpemUiLCJtaW4iLCJtYXgiLCJtaW5Sb3RhdGlvbiIsIm1heFJvdGF0aW9uIiwidG90YWwiLCJicm93c2VyV1NFbmRwb2ludCIsIk1BWF9SRVRSSUVTIiwiUkVUUllfREVMQVkiLCJ3YWl0IiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJpbml0QnJvd3NlciIsImJyb3dzZXIiLCJsYXVuY2giLCJoZWFkbGVzcyIsImFyZ3MiLCJpZ25vcmVIVFRQU0Vycm9ycyIsInRpbWVvdXQiLCJpc0Nvbm5lY3RlZCIsIkVycm9yIiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0QnJvd3NlciIsImNvbm5lY3QiLCJ3aXRoQnJvd3NlciIsImZuIiwiY2xvc2UiLCJ3aXRoUGFnZSIsInBhZ2UiLCJuZXdQYWdlIiwiYWxsIiwic2V0RGVmYXVsdE5hdmlnYXRpb25UaW1lb3V0Iiwic2V0RGVmYXVsdFRpbWVvdXQiLCJzZXRWaWV3cG9ydCIsIndpZHRoIiwiaGVpZ2h0IiwiZGV2aWNlU2NhbGVGYWN0b3IiLCJzZXRSZXF1ZXN0SW50ZXJjZXB0aW9uIiwib24iLCJyZXF1ZXN0IiwicmVzb3VyY2VUeXBlIiwiY29udGludWUiLCJhYm9ydCIsImlzQ2xvc2VkIiwiZ2V0UmFuZG9tU3RpY2tlciIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImxlbmd0aCIsImdldFJhbmRvbVNpemUiLCJnZXRSYW5kb21Sb3RhdGlvbiIsImdlbmVyYXRlU3RpY2tlcnMiLCJzdGlja2VycyIsInN0aWNrZXJzUGVyU2lkZSIsImkiLCJzaWRlSW5kZXgiLCJwb3NpdGlvbkluU2lkZSIsIngiLCJ5IiwiY29ybmVyIiwicHVzaCIsInNyYyIsInJvdGF0aW9uIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJodG1sIiwic3R5bGVzIiwiaW1hZ2VzIiwiYm9keSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiaG9zdCIsInN0aWNrZXJzSHRtbCIsIm1hcCIsInN0aWNrZXIiLCJVUkwiLCJocmVmIiwiam9pbiIsInNjcmVlbnNob3QiLCJjbGVhbkh0bWwiLCJzZXRDb250ZW50Iiwid2FpdFVudGlsIiwiZXZhbHVhdGUiLCJzdGlja2VyQ29udGFpbmVycyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJjb250YWluZXIiLCJyZW1vdmUiLCJ0d2VldENvbnRlbnQiLCJxdWVyeVNlbGVjdG9yIiwib3V0ZXJIVE1MIiwiaW5uZXJIVE1MIiwiY29udGVudCIsIkFycmF5IiwiZnJvbSIsImZpbHRlciIsImltZyIsImNvbXBsZXRlIiwib25sb2FkIiwib25lcnJvciIsImVsZW1lbnQiLCIkIiwiYm91bmRpbmdCb3giLCJ0eXBlIiwiZW5jb2RpbmciLCJjbGlwIiwib21pdEJhY2tncm91bmQiLCJzZXRIZWFkZXIiLCJlbmQiLCJtZXNzYWdlIiwic3RhY2siLCJwcm9jZXNzIiwidW5kZWZpbmVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/screenshot.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fscreenshot&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fscreenshot.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();